<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../layout/head.ejs') %>
    <title>Forms</title>
</head>

<body>
  <header>
    <%- include('../layout/header.ejs') %>
  </header>
  <main>

    <h1>Hello Forms</h1>

    <div>
      <fieldset>
        <form action="/saveFile" method="POST" enctype="multipart/form-data">

          <label for="fileSelect">Chose current file type</label>

          <select name="fileLegacy" id="fileSelect" required>
            <option value="" disabled selected hidden>Choose file</option>
            <% Files.forEach(val=>{ %>
              <option  value="<%=val%>">
                <%=val%>
              </option>
              <% }) %>
          </select>

          <br>

          <label for="fileTarget">Select desired file type</label>

          <select name="fileConversion" id="fileTarget" required>
            <option value="" id="defaultSelect" disabled selected="selected" hidden >Choose file</option>
            <% FilesTwo.forEach(val=>{ %>
              <option class="hide" id="<%=val%>" value="<%=val%>">
                <%=val%>
              </option>
              <% }) %>

          </select>

          <br>

          <label for="fileUpload">Select the file for conversion:</label>

          <input type="file" id="fileUpload" name="fileUpload" accept="image/png, image/jpg" required>

          <br>

          <input type="submit" value="Convert!">

        </form>
      </fieldset>
    </div>

  </main>
  <footer>
    <%- include('../layout/footer.ejs') %>
  </footer>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="./scripts/form.js"></script>

</html>